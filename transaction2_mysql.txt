mysql> use a;
Database changed
mysql> select * from sales;
+------+------------+------------+--------+
| id   | sale_date  | product_id | amount |
+------+------------+------------+--------+
|    1 | 2025-02-01 |          1 | 143.23 |
|    2 | 2025-02-02 |          2 | 100.25 |
|    3 | 2025-02-03 |          2 | 130.25 |
|    4 | 2025-02-04 |          1 | 132.25 |
|    5 | 2025-02-05 |          2 | 128.15 |
|    6 | 2025-02-06 |          1 | 140.22 |
|    7 | 2025-02-07 |          3 | 160.25 |
|    8 | 2025-02-08 |          3 | 142.05 |
|    9 | 2024-02-01 |          2 |  43.23 |
|   10 | 2024-02-02 |          2 |  90.25 |
|   11 | 2024-02-03 |          1 |  30.25 |
|   12 | 2024-02-04 |          3 |  32.25 |
|   13 | 2023-02-01 |          1 |  53.23 |
|   14 | 2023-02-02 |          3 |  60.25 |
|   15 | 2023-02-03 |          2 |  50.25 |
|   16 | 2023-02-04 |          1 |  52.25 |
+------+------------+------------+--------+
16 rows in set (0.00 sec)

mysql> update sales set amount=999.99 where product_id =2;
Query OK, 6 rows affected (0.00 sec)
Rows matched: 6  Changed: 6  Warnings: 0

mysql> select * from sales;
+------+------------+------------+--------+
| id   | sale_date  | product_id | amount |
+------+------------+------------+--------+
|    1 | 2025-02-01 |          1 | 143.23 |
|    2 | 2025-02-02 |          2 | 999.99 |
|    3 | 2025-02-03 |          2 | 999.99 |
|    4 | 2025-02-04 |          1 | 132.25 |
|    5 | 2025-02-05 |          2 | 999.99 |
|    6 | 2025-02-06 |          1 | 140.22 |
|    7 | 2025-02-07 |          3 | 160.25 |
|    8 | 2025-02-08 |          3 | 142.05 |
|    9 | 2024-02-01 |          2 | 999.99 |
|   10 | 2024-02-02 |          2 | 999.99 |
|   11 | 2024-02-03 |          1 |  30.25 |
|   12 | 2024-02-04 |          3 |  32.25 |
|   13 | 2023-02-01 |          1 |  53.23 |
|   14 | 2023-02-02 |          3 |  60.25 |
|   15 | 2023-02-03 |          2 | 999.99 |
|   16 | 2023-02-04 |          1 |  52.25 |
+------+------------+------------+--------+
16 rows in set (0.00 sec)

mysql> update sales set amount=100.10 where product_id =1;
Query OK, 6 rows affected (0.01 sec)
Rows matched: 6  Changed: 6  Warnings: 0

mysql> select * from sales;
+------+------------+------------+--------+
| id   | sale_date  | product_id | amount |
+------+------------+------------+--------+
|    1 | 2025-02-01 |          1 |  100.1 |
|    2 | 2025-02-02 |          2 | 999.99 |
|    3 | 2025-02-03 |          2 | 999.99 |
|    4 | 2025-02-04 |          1 |  100.1 |
|    5 | 2025-02-05 |          2 | 999.99 |
|    6 | 2025-02-06 |          1 |  100.1 |
|    7 | 2025-02-07 |          3 | 160.25 |
|    8 | 2025-02-08 |          3 | 142.05 |
|    9 | 2024-02-01 |          2 | 999.99 |
|   10 | 2024-02-02 |          2 | 999.99 |
|   11 | 2024-02-03 |          1 |  100.1 |
|   12 | 2024-02-04 |          3 |  32.25 |
|   13 | 2023-02-01 |          1 |  100.1 |
|   14 | 2023-02-02 |          3 |  60.25 |
|   15 | 2023-02-03 |          2 | 999.99 |
|   16 | 2023-02-04 |          1 |  100.1 |
+------+------------+------------+--------+
16 rows in set (0.00 sec)

mysql> rollback;
Query OK, 0 rows affected (0.00 sec)

mysql> select * from sales;
+------+------------+------------+--------+
| id   | sale_date  | product_id | amount |
+------+------------+------------+--------+
|    1 | 2025-02-01 |          1 |  100.1 |
|    2 | 2025-02-02 |          2 | 999.99 |
|    3 | 2025-02-03 |          2 | 999.99 |
|    4 | 2025-02-04 |          1 |  100.1 |
|    5 | 2025-02-05 |          2 | 999.99 |
|    6 | 2025-02-06 |          1 |  100.1 |
|    7 | 2025-02-07 |          3 | 160.25 |
|    8 | 2025-02-08 |          3 | 142.05 |
|    9 | 2024-02-01 |          2 | 999.99 |
|   10 | 2024-02-02 |          2 | 999.99 |
|   11 | 2024-02-03 |          1 |  100.1 |
|   12 | 2024-02-04 |          3 |  32.25 |
|   13 | 2023-02-01 |          1 |  100.1 |
|   14 | 2023-02-02 |          3 |  60.25 |
|   15 | 2023-02-03 |          2 | 999.99 |
|   16 | 2023-02-04 |          1 |  100.1 |
+------+------------+------------+--------+
16 rows in set (0.00 sec)

mysql> start transaction;
Query OK, 0 rows affected (0.00 sec)

mysql> savepoint s1;
Query OK, 0 rows affected (0.01 sec)

mysql> rollback to s1;
Query OK, 0 rows affected (0.00 sec)

mysql> savepoint s2;
Query OK, 0 rows affected (0.00 sec)

mysql> savepoint s3;
Query OK, 0 rows affected (0.00 sec)

mysql> rollback to s2;
Query OK, 0 rows affected (0.00 sec)

mysql>
